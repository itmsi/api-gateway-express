services:
  - name: users-service
    url: http://localhost:3001
    routes:
      - paths:
          - /users
        strip_path: false
    plugins:
      - name: jwt-auth
      - name: rate-limit
        config:
          policy: memory
          points: 10
          duration: 60
  - name: public-service
    url: http://localhost:3002
    routes:
      - paths:
          - /public
        strip_path: true
        rewrite_path: /
    plugins:
      - name: logging

admin:
  enabled: true
  base_path: /admin
  auth:
    type: basic
    username: ${ADMIN_USER:-admin}
    password: ${ADMIN_PASS:-admin}

watcher:
  enabled: true
  debounce: 500

